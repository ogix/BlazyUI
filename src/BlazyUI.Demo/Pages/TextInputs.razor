@page "/textinputs"

<PageTitle>TextInput - BlazyUI</PageTitle>

<h1 class="text-3xl font-bold mb-8">TextInput</h1>

<section class="mb-12">
    <h2 class="text-xl font-semibold mb-4">Basic</h2>
    <CodeExample Code="@basicCode">
        <BlazyTextInput @bind-Value="basicValue" placeholder="Type something..." />
        <p class="mt-2 text-sm opacity-70">Value: @basicValue</p>
    </CodeExample>
</section>

<section class="mb-12">
    <h2 class="text-xl font-semibold mb-4">Input Types</h2>
    <CodeExample Code="@typesCode">
        <div class="flex flex-col gap-4 max-w-xs">
            <BlazyTextInput Type="text" @bind-Value="textValue" placeholder="Text" />
            <BlazyTextInput Type="password" @bind-Value="passwordValue" placeholder="Password" />
            <BlazyTextInput Type="email" @bind-Value="emailValue" placeholder="Email" />
            <BlazyTextInput Type="number" @bind-Value="numberValue" placeholder="Number" />
            <BlazyTextInput Type="search" @bind-Value="searchValue" placeholder="Search" />
            <BlazyTextInput Type="tel" @bind-Value="telValue" placeholder="Phone" />
            <BlazyTextInput Type="url" @bind-Value="urlValue" placeholder="URL" />
        </div>
    </CodeExample>
</section>

<section class="mb-12">
    <h2 class="text-xl font-semibold mb-4">Sizes</h2>
    <CodeExample Code="@sizesCode">
        <div class="flex flex-col gap-4 max-w-xs">
            <BlazyTextInput Size="BlazyTextInputSize.ExtraSmall" @bind-Value="sizeValue" placeholder="Extra Small" />
            <BlazyTextInput Size="BlazyTextInputSize.Small" @bind-Value="sizeValue" placeholder="Small" />
            <BlazyTextInput Size="BlazyTextInputSize.Medium" @bind-Value="sizeValue" placeholder="Default (Medium)" />
            <BlazyTextInput Size="BlazyTextInputSize.Large" @bind-Value="sizeValue" placeholder="Large" />
            <BlazyTextInput Size="BlazyTextInputSize.ExtraLarge" @bind-Value="sizeValue" placeholder="Extra Large" />
        </div>
    </CodeExample>
</section>

<section class="mb-12">
    <h2 class="text-xl font-semibold mb-4">Colors</h2>
    <CodeExample Code="@colorsCode">
        <div class="flex flex-col gap-4 max-w-xs">
            <BlazyTextInput Color="BlazyTextInputColor.Default" @bind-Value="colorValue" placeholder="Default" />
            <BlazyTextInput Color="BlazyTextInputColor.Neutral" @bind-Value="colorValue" placeholder="Neutral" />
            <BlazyTextInput Color="BlazyTextInputColor.Primary" @bind-Value="colorValue" placeholder="Primary" />
            <BlazyTextInput Color="BlazyTextInputColor.Secondary" @bind-Value="colorValue" placeholder="Secondary" />
            <BlazyTextInput Color="BlazyTextInputColor.Accent" @bind-Value="colorValue" placeholder="Accent" />
            <BlazyTextInput Color="BlazyTextInputColor.Info" @bind-Value="colorValue" placeholder="Info" />
            <BlazyTextInput Color="BlazyTextInputColor.Success" @bind-Value="colorValue" placeholder="Success" />
            <BlazyTextInput Color="BlazyTextInputColor.Warning" @bind-Value="colorValue" placeholder="Warning" />
            <BlazyTextInput Color="BlazyTextInputColor.Error" @bind-Value="colorValue" placeholder="Error" />
        </div>
    </CodeExample>
</section>

<section class="mb-12">
    <h2 class="text-xl font-semibold mb-4">Ghost Style</h2>
    <CodeExample Code="@ghostCode">
        <div class="flex flex-col gap-4 max-w-xs">
            <BlazyTextInput Ghost @bind-Value="ghostValue" placeholder="Ghost input" />
            <BlazyTextInput Ghost Color="BlazyTextInputColor.Primary" @bind-Value="ghostValue" placeholder="Ghost Primary" />
        </div>
    </CodeExample>
</section>

<section class="mb-12">
    <h2 class="text-xl font-semibold mb-4">With Validation</h2>
    <CodeExample Code="@validationCode">
        <EditForm Model="@formModel" OnValidSubmit="@HandleValidSubmit" class="max-w-xs">
            <DataAnnotationsValidator />

            <div class="form-control mb-4">
                <label class="label"><span class="label-text">Email</span></label>
                <BlazyTextInput Type="email" @bind-Value="formModel.Email" placeholder="Enter email" />
                <ValidationMessage For="@(() => formModel.Email)" class="text-error text-sm mt-1" />
            </div>

            <div class="form-control mb-4">
                <label class="label"><span class="label-text">Password</span></label>
                <BlazyTextInput Type="password" @bind-Value="formModel.Password" placeholder="Enter password" />
                <ValidationMessage For="@(() => formModel.Password)" class="text-error text-sm mt-1" />
            </div>

            <BlazyButton Type="submit" Color="BlazyButtonColor.Primary" Block>Sign In</BlazyButton>
        </EditForm>
        @if (formSubmitted)
        {
            <BlazyAlert Color="BlazyAlertColor.Success" class="mt-4">Form submitted successfully!</BlazyAlert>
        }
    </CodeExample>
</section>

<section class="mb-12">
    <h2 class="text-xl font-semibold mb-4">Disabled State</h2>
    <CodeExample Code="@disabledCode">
        <div class="flex flex-col gap-4 max-w-xs">
            <BlazyTextInput Disabled="true" Value="Standalone disabled (no binding)" placeholder="Standalone" />
            <BlazyTextInput @bind-Value="disabledValue" Disabled="true" placeholder="Disabled with binding" />
            <BlazyTextInput @bind-Value="disabledValue" Disabled="false" placeholder="Not disabled" />
        </div>
    </CodeExample>
</section>

<section class="mb-12">
    <h2 class="text-xl font-semibold mb-4">With HTML Attributes</h2>
    <CodeExample Code="@attributesCode">
        <div class="flex flex-col gap-4 max-w-xs">
            <BlazyTextInput @bind-Value="attrValue" placeholder="Max 10 chars" maxlength="10" />
            <BlazyTextInput @bind-Value="attrValue" placeholder="Disabled" disabled />
            <BlazyTextInput @bind-Value="attrValue" placeholder="Readonly" readonly />
        </div>
    </CodeExample>
</section>

@code {
    private string basicValue = "";
    private string textValue = "";
    private string passwordValue = "";
    private string emailValue = "";
    private string numberValue = "";
    private string searchValue = "";
    private string telValue = "";
    private string urlValue = "";
    private string sizeValue = "";
    private string colorValue = "";
    private string ghostValue = "";
    private string disabledValue = "This is disabled";
    private string attrValue = "";
    private bool formSubmitted = false;

    private FormModel formModel = new();

    private void HandleValidSubmit()
    {
        formSubmitted = true;
    }

    private class FormModel
    {
        [System.ComponentModel.DataAnnotations.Required(ErrorMessage = "Email is required")]
        [System.ComponentModel.DataAnnotations.EmailAddress(ErrorMessage = "Invalid email format")]
        public string Email { get; set; } = "";

        [System.ComponentModel.DataAnnotations.Required(ErrorMessage = "Password is required")]
        [System.ComponentModel.DataAnnotations.MinLength(6, ErrorMessage = "Password must be at least 6 characters")]
        public string Password { get; set; } = "";
    }

    private string basicCode = @"<BlazyTextInput @bind-Value=""value"" placeholder=""Type something..."" />";

    private string typesCode = @"<BlazyTextInput Type=""text"" @bind-Value=""value"" placeholder=""Text"" />
<BlazyTextInput Type=""password"" @bind-Value=""value"" placeholder=""Password"" />
<BlazyTextInput Type=""email"" @bind-Value=""value"" placeholder=""Email"" />
<BlazyTextInput Type=""number"" @bind-Value=""value"" placeholder=""Number"" />
<BlazyTextInput Type=""search"" @bind-Value=""value"" placeholder=""Search"" />
<BlazyTextInput Type=""tel"" @bind-Value=""value"" placeholder=""Phone"" />
<BlazyTextInput Type=""url"" @bind-Value=""value"" placeholder=""URL"" />";

    private string sizesCode = @"<BlazyTextInput Size=""BlazyTextInputSize.ExtraSmall"" placeholder=""Extra Small"" />
<BlazyTextInput Size=""BlazyTextInputSize.Small"" placeholder=""Small"" />
<BlazyTextInput Size=""BlazyTextInputSize.Medium"" placeholder=""Default (Medium)"" />
<BlazyTextInput Size=""BlazyTextInputSize.Large"" placeholder=""Large"" />
<BlazyTextInput Size=""BlazyTextInputSize.ExtraLarge"" placeholder=""Extra Large"" />";

    private string colorsCode = @"<BlazyTextInput Color=""BlazyTextInputColor.Default"" placeholder=""Default"" />
<BlazyTextInput Color=""BlazyTextInputColor.Primary"" placeholder=""Primary"" />
<BlazyTextInput Color=""BlazyTextInputColor.Secondary"" placeholder=""Secondary"" />
<BlazyTextInput Color=""BlazyTextInputColor.Accent"" placeholder=""Accent"" />
<BlazyTextInput Color=""BlazyTextInputColor.Info"" placeholder=""Info"" />
<BlazyTextInput Color=""BlazyTextInputColor.Success"" placeholder=""Success"" />
<BlazyTextInput Color=""BlazyTextInputColor.Warning"" placeholder=""Warning"" />
<BlazyTextInput Color=""BlazyTextInputColor.Error"" placeholder=""Error"" />";

    private string ghostCode = @"<BlazyTextInput Ghost placeholder=""Ghost input"" />
<BlazyTextInput Ghost Color=""BlazyTextInputColor.Primary"" placeholder=""Ghost Primary"" />";

    private string disabledCode = @"@* Standalone disabled - no binding required *@
<BlazyTextInput Disabled=""true"" Value=""Standalone disabled"" />

@* Disabled with binding *@
<BlazyTextInput @bind-Value=""value"" Disabled=""true"" />

@* Dynamic disabled state *@
<BlazyTextInput @bind-Value=""value"" Disabled=""@isDisabled"" />";

    private string validationCode = @"<EditForm Model=""@formModel"" OnValidSubmit=""@HandleValidSubmit"">
    <DataAnnotationsValidator />
    <div class=""form-control mb-4"">
        <label class=""label""><span class=""label-text"">Email</span></label>
        <BlazyTextInput Type=""email"" @bind-Value=""formModel.Email"" placeholder=""Enter email"" />
        <ValidationMessage For=""@(() => formModel.Email)"" />
    </div>
    <div class=""form-control mb-4"">
        <label class=""label""><span class=""label-text"">Password</span></label>
        <BlazyTextInput Type=""password"" @bind-Value=""formModel.Password"" placeholder=""Enter password"" />
        <ValidationMessage For=""@(() => formModel.Password)"" />
    </div>
    <BlazyButton Type=""submit"" Color=""BlazyButtonColor.Primary"" Block>Sign In</BlazyButton>
</EditForm>";

    private string attributesCode = @"<BlazyTextInput placeholder=""Max 10 chars"" maxlength=""10"" />
<BlazyTextInput placeholder=""Disabled"" disabled />
<BlazyTextInput placeholder=""Readonly"" readonly />";
}
