@namespace BlazyUI
@inherits BlazyComponentBase

<div class="@CssClass" @attributes="AdditionalAttributes">
    @ChildContent
</div>

@code {
    /// <summary>
    /// The color variant of the divider.
    /// </summary>
    [Parameter]
    public DividerColor Color { get; set; } = DividerColor.Default;

    /// <summary>
    /// The text position of the divider.
    /// </summary>
    [Parameter]
    public DividerPosition Position { get; set; } = DividerPosition.Default;

    /// <summary>
    /// When true, renders a horizontal divider (for flex-row containers).
    /// </summary>
    [Parameter]
    public bool Horizontal { get; set; }

    /// <summary>
    /// The content to display inside the divider.
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    private string CssClass => MergeClasses(
        "divider",
        Horizontal ? "divider-horizontal" : null,
        ColorClass,
        PositionClass
    );

    private string? ColorClass => Color switch
    {
        DividerColor.Default => null,
        DividerColor.Neutral => "divider-neutral",
        DividerColor.Primary => "divider-primary",
        DividerColor.Secondary => "divider-secondary",
        DividerColor.Accent => "divider-accent",
        DividerColor.Info => "divider-info",
        DividerColor.Success => "divider-success",
        DividerColor.Warning => "divider-warning",
        DividerColor.Error => "divider-error",
        _ => throw new ArgumentOutOfRangeException(nameof(Color), Color, null)
    };

    private string? PositionClass => Position switch
    {
        DividerPosition.Default => null,
        DividerPosition.Start => "divider-start",
        DividerPosition.End => "divider-end",
        _ => throw new ArgumentOutOfRangeException(nameof(Position), Position, null)
    };
}
