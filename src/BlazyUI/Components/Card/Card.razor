@namespace BlazyUI
@inherits BlazyComponentBase

<div class="@CssClass" @attributes="AdditionalAttributes">
    @ChildContent
</div>

@code {
    /// <summary>
    /// The size of the card.
    /// </summary>
    [Parameter]
    public CardSize Size { get; set; } = CardSize.Default;

    /// <summary>
    /// The style variant of the card.
    /// </summary>
    [Parameter]
    public CardStyle Style { get; set; } = CardStyle.Default;

    /// <summary>
    /// Displays the card horizontally with image on the side.
    /// </summary>
    [Parameter]
    public bool Side { get; set; }

    /// <summary>
    /// Makes the image cover the entire card as background.
    /// </summary>
    [Parameter]
    public bool ImageFull { get; set; }

    /// <summary>
    /// The content of the card (typically CardBody, CardFigure, etc.).
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    private string CssClass => MergeClasses(
        "card",
        "bg-base-100",
        SizeClass,
        StyleClass,
        Side ? "card-side" : null,
        ImageFull ? "image-full" : null
    );

    private string? SizeClass => Size switch
    {
        CardSize.Default => null,
        CardSize.ExtraSmall => "card-xs",
        CardSize.Small => "card-sm",
        CardSize.Large => "card-lg",
        CardSize.ExtraLarge => "card-xl",
        _ => throw new ArgumentOutOfRangeException(nameof(Size), Size, null)
    };

    private string? StyleClass => Style switch
    {
        CardStyle.Default => null,
        CardStyle.Border => "card-border",
        CardStyle.Dash => "card-dash",
        _ => throw new ArgumentOutOfRangeException(nameof(Style), Style, null)
    };
}
