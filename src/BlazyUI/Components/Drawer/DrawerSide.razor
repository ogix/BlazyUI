@namespace BlazyUI
@inherits BlazyComponentBase

<div class="@CssClass" @attributes="AdditionalAttributes">
    <label for="@Context?.Id" aria-label="close sidebar" class="drawer-overlay"></label>
    <div class="@ContentClasses">
        @ChildContent
    </div>
</div>

@code {
    /// <summary>
    /// The drawer context provided by the parent Drawer component.
    /// </summary>
    [CascadingParameter]
    public DrawerContext? Context { get; set; }

    /// <summary>
    /// The sidebar content (typically a menu or navigation).
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    /// <summary>
    /// Width class for the sidebar content. Defaults to "w-80".
    /// </summary>
    [Parameter]
    public string Width { get; set; } = "w-80";

    /// <summary>
    /// Background class for the sidebar content. Defaults to "bg-base-200".
    /// </summary>
    [Parameter]
    public string Background { get; set; } = "bg-base-200";

    /// <summary>
    /// Additional CSS classes for the inner sidebar content container.
    /// </summary>
    [Parameter]
    public string? ContentClass { get; set; }

    private string CssClass => MergeClasses(
        "drawer-side"
    );

    private string ContentClasses => TwMerge.Merge(
        Background,
        "min-h-full",
        Width,
        "p-4",
        ContentClass
    ) ?? string.Empty;
}
